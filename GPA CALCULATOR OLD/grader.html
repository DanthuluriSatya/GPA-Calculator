<!DOCTYPE html>
<html lang="en">
  <body>
    
    
      <button onclick="create()">Add Subject</button>
      <button onclick="calculateGPA()">Find your GPA</button>
      <h2 id="total"></h2>
       <h2 id="demo"></h2>
     <script>
	  
      function create() {
		 
		   var marks = document.createElement('input');
        
            marks.setAttribute('class', 'subjects');
		    
		    document.body.appendChild(marks);

      }
		 
	
		 
		 
		 function calculateGPA() {
		   var flag=true;
		   var Gpa=0,x,i;
		   x=document.querySelectorAll(".subjects");
		
		   if(false== validate(x,true,0))
			 return ;
		  else
			 {
		      for(i=0;i<x.length;i++)
			  {	
			  x[i].style.borderColor = "black";
              Gpa+=(parseFloat)(x[i].value);		  
			  }
			 }
	     document.getElementById('total').innerHTML = "your GPA is:"+parseFloat((Gpa/x.length).toFixed(2));
	  }
		  
		 
		 
		 
		 
		 
		 function validate(x,flag,i) {
		      for(i=0;i<x.length;i++)
			  {
				  if (isNaN(x[i].value) ||x[i].value < 0 || x[i].value > 4) {
                      //text = "Input not valid in text box"+(i+1);
					  text = "Input not valid in highlighted box";
					  x[i].style.borderColor = "red";
					  //document.getElementById("").style.borderColor = "red";
					  document.getElementById("demo").innerHTML = text;
					  flag=false;
					  break;
                   } 
				  else{
					  flag=true;
				      }
             }
			  return flag;
		
      }
	
		 
     </script>
 

</body>
</html>